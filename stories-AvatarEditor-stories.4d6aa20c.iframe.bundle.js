/*! For license information please see stories-AvatarEditor-stories.4d6aa20c.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_algtools_ui=self.webpackChunk_algtools_ui||[]).push([[1763],{"./node_modules/.pnpm/lucide-react@0.539.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/image.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>Image});const Image=(0,__webpack_require__("./node_modules/.pnpm/lucide-react@0.539.0_react@19.2.0/node_modules/lucide-react/dist/esm/createLucideIcon.js").A)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},"./node_modules/.pnpm/lucide-react@0.539.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/loader-circle.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>LoaderCircle});const LoaderCircle=(0,__webpack_require__("./node_modules/.pnpm/lucide-react@0.539.0_react@19.2.0/node_modules/lucide-react/dist/esm/createLucideIcon.js").A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},"./node_modules/.pnpm/lucide-react@0.539.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/rotate-ccw.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>RotateCcw});const RotateCcw=(0,__webpack_require__("./node_modules/.pnpm/lucide-react@0.539.0_react@19.2.0/node_modules/lucide-react/dist/esm/createLucideIcon.js").A)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},"./node_modules/.pnpm/lucide-react@0.539.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/rotate-cw.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>RotateCw});const RotateCw=(0,__webpack_require__("./node_modules/.pnpm/lucide-react@0.539.0_react@19.2.0/node_modules/lucide-react/dist/esm/createLucideIcon.js").A)("rotate-cw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]])},"./node_modules/.pnpm/lucide-react@0.539.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/save.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>Save});const Save=(0,__webpack_require__("./node_modules/.pnpm/lucide-react@0.539.0_react@19.2.0/node_modules/lucide-react/dist/esm/createLucideIcon.js").A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},"./node_modules/.pnpm/lucide-react@0.539.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/trash-2.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>Trash2});const Trash2=(0,__webpack_require__("./node_modules/.pnpm/lucide-react@0.539.0_react@19.2.0/node_modules/lucide-react/dist/esm/createLucideIcon.js").A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},"./node_modules/.pnpm/lucide-react@0.539.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/upload.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>Upload});const Upload=(0,__webpack_require__("./node_modules/.pnpm/lucide-react@0.539.0_react@19.2.0/node_modules/lucide-react/dist/esm/createLucideIcon.js").A)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},"./node_modules/.pnpm/lucide-react@0.539.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/zoom-in.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>ZoomIn});const ZoomIn=(0,__webpack_require__("./node_modules/.pnpm/lucide-react@0.539.0_react@19.2.0/node_modules/lucide-react/dist/esm/createLucideIcon.js").A)("zoom-in",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]])},"./node_modules/.pnpm/lucide-react@0.539.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/zoom-out.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>ZoomOut});const ZoomOut=(0,__webpack_require__("./node_modules/.pnpm/lucide-react@0.539.0_react@19.2.0/node_modules/lucide-react/dist/esm/createLucideIcon.js").A)("zoom-out",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]])},"./src/components/ui/button.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$:()=>Button,r:()=>buttonVariants});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/react@19.2.0/node_modules/react/jsx-runtime.js"),_radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/.pnpm/react@19.2.0/node_modules/react/index.js"),__webpack_require__("./node_modules/.pnpm/@radix-ui+react-slot@1.2.3_@types+react@19.2.2_react@19.2.0/node_modules/@radix-ui/react-slot/dist/index.mjs")),class_variance_authority__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/class-variance-authority@0.7.1/node_modules/class-variance-authority/dist/index.mjs"),_lib_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/lib/utils.ts");const buttonVariants=(0,class_variance_authority__WEBPACK_IMPORTED_MODULE_3__.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Button({className,variant,size,asChild=!1,...props}){const Comp=asChild?_radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_2__.DX:"button";return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Comp,{"data-slot":"button",className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_4__.cn)(buttonVariants({variant,size,className})),...props})}try{Button.displayName="Button",Button.__docgenInfo={description:"",displayName:"Button",props:{variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:'"link" | "default" | "outline" | "ghost" | "destructive" | "secondary" | null | undefined'}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:'"default" | "sm" | "lg" | "icon" | null | undefined'}},asChild:{defaultValue:{value:"false"},description:"",name:"asChild",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ui/button.tsx#Button"]={docgenInfo:Button.__docgenInfo,name:"Button",path:"src/components/ui/button.tsx#Button"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ui/slider.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>Slider});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/react@19.2.0/node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/react@19.2.0/node_modules/react/index.js"),_radix_ui_react_slider__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-slider@1.3.6_@types+react-dom@19.2.1_@types+react@19.2.2__@types+react@19.2.2_hguau37x4sg3l4ehc7yhiv4wvy/node_modules/@radix-ui/react-slider/dist/index.mjs"),_lib_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/lib/utils.ts");function Slider({className,defaultValue,value,min=0,max=100,...props}){const _values=react__WEBPACK_IMPORTED_MODULE_1__.useMemo(()=>Array.isArray(value)?value:Array.isArray(defaultValue)?defaultValue:[min,max],[value,defaultValue,min,max]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_radix_ui_react_slider__WEBPACK_IMPORTED_MODULE_2__.bL,{"data-slot":"slider",defaultValue,value,min,max,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",className),...props,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_slider__WEBPACK_IMPORTED_MODULE_2__.CC,{"data-slot":"slider-track",className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_slider__WEBPACK_IMPORTED_MODULE_2__.Q6,{"data-slot":"slider-range",className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:_values.length},(_,index)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_slider__WEBPACK_IMPORTED_MODULE_2__.zi,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},index))]})}try{Slider.displayName="Slider",Slider.__docgenInfo={description:"",displayName:"Slider",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ui/slider.tsx#Slider"]={docgenInfo:Slider.__docgenInfo,name:"Slider",path:"src/components/ui/slider.tsx#Slider"})}catch(__react_docgen_typescript_loader_error){}},"./src/lib/utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{cn:()=>cn});var clsx__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/clsx@2.1.1/node_modules/clsx/dist/clsx.mjs"),tailwind_merge__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/tailwind-merge@3.3.1/node_modules/tailwind-merge/dist/bundle-mjs.mjs");function cn(...inputs){return(0,tailwind_merge__WEBPACK_IMPORTED_MODULE_1__.QP)((0,clsx__WEBPACK_IMPORTED_MODULE_0__.$)(inputs))}},"./src/stories/AvatarEditor.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ComparisonShapes:()=>ComparisonShapes,ComparisonSizes:()=>ComparisonSizes,CustomLabels:()=>CustomLabels,Default:()=>Default,HighQuality:()=>HighQuality,Large:()=>Large,LargeSquare:()=>LargeSquare,LivePreviewOnChange:()=>LivePreviewOnChange,NoImage:()=>NoImage,ProfileSetup:()=>ProfileSetup,Small:()=>Small,Square:()=>Square,__namedExportsOrder:()=>__namedExportsOrder,default:()=>AvatarEditor_stories});var jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@19.2.0/node_modules/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/.pnpm/react@19.2.0/node_modules/react/index.js"),ui_button=__webpack_require__("./src/components/ui/button.tsx"),slider=__webpack_require__("./src/components/ui/slider.tsx"),upload=__webpack_require__("./node_modules/.pnpm/lucide-react@0.539.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/upload.js"),zoom_out=__webpack_require__("./node_modules/.pnpm/lucide-react@0.539.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/zoom-out.js"),zoom_in=__webpack_require__("./node_modules/.pnpm/lucide-react@0.539.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/zoom-in.js"),rotate_ccw=__webpack_require__("./node_modules/.pnpm/lucide-react@0.539.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/rotate-ccw.js"),rotate_cw=__webpack_require__("./node_modules/.pnpm/lucide-react@0.539.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/rotate-cw.js"),loader_circle=__webpack_require__("./node_modules/.pnpm/lucide-react@0.539.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/loader-circle.js"),save=__webpack_require__("./node_modules/.pnpm/lucide-react@0.539.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/save.js"),trash_2=__webpack_require__("./node_modules/.pnpm/lucide-react@0.539.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/trash-2.js"),icons_image=__webpack_require__("./node_modules/.pnpm/lucide-react@0.539.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/image.js"),utils=__webpack_require__("./src/lib/utils.ts");function avatar_editor_AvatarEditor({currentAvatar,onSave,onChange,onDiscard,borderRadius=50,size=300,quality=.9,className,allowedTypes=["image/jpeg","image/png","image/webp"],labels={uploadPrompt:"Haz clic para subir imagen",controlsPlaceholder:"Agrega una imagen para poder editarla",allowedTypesLabel:"Tipos permitidos",save:"Guardar",discard:"Eliminar",zoomIn:"Acercar",zoomOut:"Alejar",rotateClockwise:"Rotar a la derecha",rotateCounterClockwise:"Rotar a la izquierda"}}){const[image,setImage]=react.useState(null),[scale,setScale]=react.useState(1),[rotation,setRotation]=react.useState(0),[position,setPosition]=react.useState({x:0,y:0}),[isDragging,setIsDragging]=react.useState(!1),[dragStart,setDragStart]=react.useState({x:0,y:0}),[isLoading,setIsLoading]=react.useState(!1),canvasRef=react.useRef(null),fileInputRef=react.useRef(null),imageSourceRef=react.useRef(null),hasUserEditedRef=react.useRef(!1);react.useEffect(()=>{currentAvatar&&loadImageFromUrl(currentAvatar)},[currentAvatar]);const loadImageFromUrl=url=>{const img=new Image;img.crossOrigin="anonymous",img.onload=()=>{imageSourceRef.current="prop",hasUserEditedRef.current=!1,setImage(img);let minScale;minScale=img.width/img.height>1?size/img.height:size/img.width,setScale(minScale),setRotation(0),setPosition({x:0,y:0})},img.src=url},getMinScaleForImage=()=>{if(!image)return 1;return image.width/image.height>1?size/image.height:size/image.width},drawCanvas=react.useCallback(()=>{const canvas=canvasRef.current;if(!canvas||!image)return;const ctx=canvas.getContext("2d");if(!ctx)return;ctx.clearRect(0,0,size,size),ctx.setTransform(1,0,0,1,0,0),ctx.save(),ctx.translate(size/2,size/2),ctx.rotate(rotation*Math.PI/180),ctx.scale(scale,scale),ctx.translate(position.x,position.y);const imgWidth=image.width,imgHeight=image.height;if(ctx.drawImage(image,-imgWidth/2,-imgHeight/2,imgWidth,imgHeight),ctx.restore(),image){ctx.save(),ctx.globalCompositeOperation="source-over",ctx.strokeStyle="rgba(255, 255, 255, 0.3)",ctx.lineWidth=1,ctx.lineCap="butt",ctx.lineJoin="miter";for(let i=1;i<3;i++){const x=size/3*i;ctx.beginPath(),ctx.moveTo(x,0),ctx.lineTo(x,size),ctx.stroke()}for(let i=1;i<3;i++){const y=size/3*i;ctx.beginPath(),ctx.moveTo(0,y),ctx.lineTo(size,y),ctx.stroke()}ctx.restore()}},[image,scale,rotation,position,size]);react.useEffect(()=>{drawCanvas()},[drawCanvas]);const getMinScale=react.useCallback(()=>{if(!image)return.1;return image.width/image.height>1?size/image.height:size/image.width},[image,size]),getPositionConstraints=react.useCallback(()=>{if(!image)return{minX:0,maxX:0,minY:0,maxY:0};const scaledWidth=image.width*scale,scaledHeight=image.height*scale,maxX=Math.max(0,(scaledWidth-size)/(2*scale)),maxY=Math.max(0,(scaledHeight-size)/(2*scale));return{minX:-maxX,maxX,minY:-maxY,maxY}},[image,scale,size]),constrainPosition=react.useCallback(newPosition=>{const constraints=getPositionConstraints();return{x:Math.max(constraints.minX,Math.min(constraints.maxX,newPosition.x)),y:Math.max(constraints.minY,Math.min(constraints.maxY,newPosition.y))}},[getPositionConstraints]),handleMouseUp=()=>{setIsDragging(!1)},handleCircleClick=event=>{isDragging||image||(event.preventDefault(),fileInputRef.current?.click())},handleScaleChange=newScale=>{const minScale=getMinScale(),constrainedScale=Math.max(minScale,Math.min(3,newScale));setScale(constrainedScale),hasUserEditedRef.current=!0;const scaledWidth=image.width*constrainedScale,scaledHeight=image.height*constrainedScale,maxX=Math.max(0,(scaledWidth-size)/(2*constrainedScale)),maxY=Math.max(0,(scaledHeight-size)/(2*constrainedScale)),constrainedPosition={x:Math.max(-maxX,Math.min(maxX,position.x)),y:Math.max(-maxY,Math.min(maxY,position.y))};setPosition(constrainedPosition)},getEditedImage=react.useCallback(()=>{if(!image)return null;const tempCanvas=document.createElement("canvas");tempCanvas.width=size,tempCanvas.height=size;const tempCtx=tempCanvas.getContext("2d");if(!tempCtx)return null;tempCtx.clearRect(0,0,size,size),tempCtx.setTransform(1,0,0,1,0,0),tempCtx.save(),tempCtx.translate(size/2,size/2),tempCtx.rotate(rotation*Math.PI/180),tempCtx.scale(scale,scale),tempCtx.translate(position.x,position.y);const imgWidth=image.width,imgHeight=image.height;return tempCtx.drawImage(image,-imgWidth/2,-imgHeight/2,imgWidth,imgHeight),tempCtx.restore(),tempCanvas.toDataURL("image/png",quality)},[image,scale,rotation,position,size,quality]);return react.useEffect(()=>{if(!onChange||!image)return;if(!("user"===imageSourceRef.current||"prop"===imageSourceRef.current&&hasUserEditedRef.current))return;const dataUrl=getEditedImage();dataUrl&&onChange(dataUrl)},[getEditedImage,onChange,image]),(0,jsx_runtime.jsx)("div",{className:(0,utils.cn)("p-6 mx-auto",className),style:{width:size+48},children:(0,jsx_runtime.jsxs)("div",{className:"space-y-4",children:[(0,jsx_runtime.jsx)("div",{className:"flex justify-center",children:(0,jsx_runtime.jsxs)("div",{className:"relative border-2 border-dashed border-border overflow-hidden transition-colors",style:{width:size,height:size,borderRadius:`${borderRadius}%`},children:[(0,jsx_runtime.jsx)("canvas",{ref:canvasRef,width:size,height:size,className:image?"cursor-move":"cursor-pointer",onMouseDown:event=>{image&&(event.preventDefault(),event.stopPropagation(),setIsDragging(!0),setDragStart({x:event.clientX-position.x,y:event.clientY-position.y}),event.currentTarget.style.pointerEvents="auto")},onMouseMove:event=>{if(!isDragging||!image)return;const newPosition={x:event.clientX-dragStart.x,y:event.clientY-dragStart.y};setPosition(constrainPosition(newPosition)),hasUserEditedRef.current=!0},onMouseUp:handleMouseUp,onMouseLeave:handleMouseUp,onClick:image?void 0:handleCircleClick}),!image&&(0,jsx_runtime.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-muted/50 cursor-pointer hover:bg-muted/70 transition-colors",onClick:handleCircleClick,children:(0,jsx_runtime.jsxs)("div",{className:"text-center text-muted-foreground",children:[(0,jsx_runtime.jsx)(upload.A,{className:"w-8 h-8 mx-auto mb-2"}),(0,jsx_runtime.jsx)("p",{className:"text-sm",children:labels.uploadPrompt})]})})]})}),(0,jsx_runtime.jsx)("input",{ref:fileInputRef,type:"file",accept:allowedTypes.join(","),onChange:event=>{const file=event.target.files?.[0];if(!file)return;if(!allowedTypes.includes(file.type))return void console.warn(`File type ${file.type} is not allowed. Allowed types: ${allowedTypes.join(", ")}`);const reader=new FileReader;reader.onload=e=>{const img=new Image;img.onload=()=>{imageSourceRef.current="user",setImage(img);let minScale;minScale=img.width/img.height>1?size/img.height:size/img.width,setScale(minScale),setRotation(0),setPosition({x:0,y:0})},img.src=e.target?.result},reader.readAsDataURL(file)},className:"hidden"}),(0,jsx_runtime.jsx)("div",{className:"h-16 flex flex-col justify-center space-y-3",children:image?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jsx_runtime.jsx)(ui_button.$,{variant:"outline",size:"sm",onClick:()=>{const minScale=getMinScale(),newScale=Math.max(minScale,scale-.2);handleScaleChange(newScale)},disabled:scale<=getMinScale(),className:"h-8 w-8 p-0 bg-transparent shrink-0",title:labels.zoomOut,children:(0,jsx_runtime.jsx)(zoom_out.A,{className:"w-3 h-3"})}),(0,jsx_runtime.jsx)(slider.A,{value:[scale],onValueChange:value=>handleScaleChange(value[0]),min:getMinScale(),max:3,step:.1,className:"flex-1"}),(0,jsx_runtime.jsx)(ui_button.$,{variant:"outline",size:"sm",onClick:()=>{const newScale=Math.min(3,scale+.2);handleScaleChange(newScale)},disabled:scale>=3,className:"h-8 w-8 p-0 shrink-0",title:labels.zoomIn,children:(0,jsx_runtime.jsx)(zoom_in.A,{className:"w-3 h-3"})})]}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,jsx_runtime.jsx)(ui_button.$,{variant:"outline",size:"sm",onClick:()=>{setRotation(prev=>(prev-90+360)%360),hasUserEditedRef.current=!0},className:"h-8 w-8 p-0 bg-transparent",title:labels.rotateCounterClockwise,children:(0,jsx_runtime.jsx)(rotate_ccw.A,{className:"w-3 h-3"})}),(0,jsx_runtime.jsx)(ui_button.$,{variant:"outline",size:"sm",onClick:()=>{setRotation(prev=>(prev+90)%360),hasUserEditedRef.current=!0},className:"h-8 w-8 p-0 bg-transparent",title:labels.rotateClockwise,children:(0,jsx_runtime.jsx)(rotate_cw.A,{className:"w-3 h-3"})}),(0,jsx_runtime.jsx)("div",{className:"w-px h-6 bg-border mx-1"}),onSave&&(0,jsx_runtime.jsx)(ui_button.$,{onClick:async()=>{if(image&&onSave){setIsLoading(!0);try{const dataUrl=getEditedImage();dataUrl&&await onSave(dataUrl)}catch(error){console.error("Failed to save avatar:",error)}finally{setIsLoading(!1)}}},disabled:isLoading,size:"sm",className:"h-8 px-3",title:labels.save,children:isLoading?(0,jsx_runtime.jsx)(loader_circle.A,{className:"w-3 h-3 animate-spin"}):(0,jsx_runtime.jsx)(save.A,{className:"w-3 h-3"})}),(0,jsx_runtime.jsx)(ui_button.$,{variant:"outline",onClick:()=>{setImage(null),(()=>{const minScale=getMinScaleForImage();setScale(minScale),setRotation(0),setPosition({x:0,y:0})})(),imageSourceRef.current=null,hasUserEditedRef.current=!1;const canvas=canvasRef.current;if(canvas){const ctx=canvas.getContext("2d");ctx&&ctx.clearRect(0,0,size,size)}fileInputRef.current&&(fileInputRef.current.value=""),onDiscard()},disabled:isLoading,size:"sm",className:"h-8 w-8 p-0 bg-transparent",title:labels.discard,children:(0,jsx_runtime.jsx)(trash_2.A,{className:"w-3 h-3"})})]})]}):(0,jsx_runtime.jsxs)("div",{className:"flex flex-col items-center justify-center h-full space-y-1",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,jsx_runtime.jsx)(icons_image.A,{className:"w-4 h-4"}),(0,jsx_runtime.jsx)("p",{className:"text-sm",children:labels.controlsPlaceholder})]}),(0,jsx_runtime.jsxs)("p",{className:"text-xs text-muted-foreground/70",children:[labels.allowedTypesLabel,":"," ",allowedTypes.map(type=>type.split("/")[1]).join(", ")]})]})})]})})}try{avatar_editor_AvatarEditor.displayName="AvatarEditor",avatar_editor_AvatarEditor.__docgenInfo={description:"",displayName:"AvatarEditor",props:{currentAvatar:{defaultValue:null,description:"Current avatar URL or null",name:"currentAvatar",required:!1,type:{name:"string | null | undefined"}},onSave:{defaultValue:null,description:"Async function to save the avatar - receives base64 data URL",name:"onSave",required:!1,type:{name:"((avatarDataUrl: string) => Promise<void>) | undefined"}},onDiscard:{defaultValue:null,description:"Function called when avatar is discarded",name:"onDiscard",required:!0,type:{name:"() => void"}},onChange:{defaultValue:null,description:"Function called when avatar is changed",name:"onChange",required:!1,type:{name:"((avatarDataUrl: string) => void) | undefined"}},borderRadius:{defaultValue:{value:"50"},description:"Border radius for the avatar preview (0 = square, 50 = circle)",name:"borderRadius",required:!1,type:{name:"number | undefined"}},size:{defaultValue:{value:"300"},description:"Size of the editor canvas",name:"size",required:!1,type:{name:"number | undefined"}},quality:{defaultValue:{value:"0.9"},description:"Quality of the output image (0-1)",name:"quality",required:!1,type:{name:"number | undefined"}},className:{defaultValue:null,description:"CSS class name for the container",name:"className",required:!1,type:{name:"string | undefined"}},allowedTypes:{defaultValue:{value:"['image/jpeg', 'image/png', 'image/webp']"},description:"Allowed image types",name:"allowedTypes",required:!1,type:{name:"string[] | undefined"}},labels:{defaultValue:{value:"{\n    uploadPrompt: 'Haz clic para subir imagen',\n    controlsPlaceholder: 'Agrega una imagen para poder editarla',\n    allowedTypesLabel: 'Tipos permitidos',\n    save: 'Guardar',\n    discard: 'Eliminar',\n    zoomIn: 'Acercar',\n    zoomOut: 'Alejar',\n    rotateClockwise: 'Rotar a la derecha',\n    rotateCounterClockwise: 'Rotar a la izquierda',\n  }"},description:"Labels for the component",name:"labels",required:!1,type:{name:"{ uploadPrompt?: string | undefined; controlsPlaceholder?: string | undefined; allowedTypesLabel?: string | undefined; save?: string | undefined; discard?: string | undefined; zoomIn?: string | undefined; zoomOut?: string | undefined; rotateClockwise?: string | undefined; rotateCounterClockwise?: string | undefined;..."}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ui/avatar-editor.tsx#AvatarEditor"]={docgenInfo:avatar_editor_AvatarEditor.__docgenInfo,name:"AvatarEditor",path:"src/components/ui/avatar-editor.tsx#AvatarEditor"})}catch(__react_docgen_typescript_loader_error){}const AvatarEditor_stories={title:"Components/AvatarEditor",component:avatar_editor_AvatarEditor,parameters:{layout:"centered"},tags:["autodocs"],argTypes:{currentAvatar:{control:"text",description:"Current avatar URL or null"},borderRadius:{control:{type:"range",min:0,max:50,step:1},description:"Border radius for the avatar preview (0 = square, 50 = circle)"},size:{control:{type:"range",min:200,max:500,step:50},description:"Size of the editor canvas"},quality:{control:{type:"range",min:.1,max:1,step:.1},description:"Quality of the output image (0-1)"},onSave:{action:"saved",description:"Async function to save the avatar - receives base64 data URL"},onDiscard:{action:"discarded",description:"Function called when avatar is discarded"},onChange:{action:"changed",description:"Function called when avatar is changed - receives base64 data URL"}}},mockSave=async dataUrl=>(console.log("Avatar saved:",dataUrl.substring(0,50)+"..."),new Promise(resolve=>setTimeout(resolve,1e3))),mockDiscard=()=>{console.log("Avatar discarded")},Default={args:{currentAvatar:"https://github.com/shadcn.png",borderRadius:50,size:300,quality:.9,onSave:mockSave,onDiscard:mockDiscard},parameters:{docs:{description:{story:"A default avatar editor with a circular shape, allowing users to upload, crop, and adjust their avatar image."}}}},Square={args:{currentAvatar:"https://github.com/shadcn.png",borderRadius:0,size:300,quality:.9,onSave:mockSave,onDiscard:mockDiscard},parameters:{docs:{description:{story:"A square avatar editor with no border radius, demonstrating how to create square avatars."}}}},Large={args:{currentAvatar:"https://github.com/shadcn.png",borderRadius:50,size:400,quality:.9,onSave:mockSave,onDiscard:mockDiscard},parameters:{docs:{description:{story:"A large avatar editor with increased size, demonstrating how to create larger avatar images."}}}},Small={args:{currentAvatar:"https://github.com/shadcn.png",borderRadius:50,size:200,quality:.9,onSave:mockSave,onDiscard:mockDiscard},parameters:{docs:{description:{story:"A small avatar editor with reduced size, demonstrating how to create compact avatar images."}}}},NoImage={args:{currentAvatar:null,borderRadius:50,size:300,quality:.9,onSave:mockSave,onDiscard:mockDiscard},parameters:{docs:{description:{story:"An avatar editor with no initial image, demonstrating how the component handles empty states and new avatar uploads."}}}},LargeSquare={args:{currentAvatar:"https://github.com/shadcn.png",borderRadius:10,size:400,quality:.9,onSave:mockSave,onDiscard:mockDiscard},parameters:{docs:{description:{story:"A large square avatar editor combining large size with square shape, demonstrating size and shape combinations."}}}},HighQuality={args:{currentAvatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400&h=400&fit=crop&crop=face",borderRadius:50,size:300,quality:1,onSave:mockSave,onDiscard:mockDiscard},parameters:{docs:{description:{story:"An avatar editor with maximum quality settings (quality: 1.0), demonstrating how to configure high-quality image output."}}}},CustomLabels={args:{currentAvatar:null,borderRadius:50,size:300,quality:.9,onSave:mockSave,onDiscard:mockDiscard,labels:{uploadPrompt:"Click to upload your photo",controlsPlaceholder:"Add an image to start editing",allowedTypesLabel:"Supported formats",save:"Save Avatar",discard:"Remove",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateClockwise:"Rotate Right",rotateCounterClockwise:"Rotate Left"}},parameters:{docs:{description:{story:"An avatar editor with custom labels for all UI text, demonstrating how to customize button labels and messages."}}}},ProfileSetup={render:args=>(0,jsx_runtime.jsxs)("div",{className:"space-y-6 max-w-md mx-auto",children:[(0,jsx_runtime.jsxs)("div",{className:"text-center space-y-2",children:[(0,jsx_runtime.jsx)("h2",{className:"text-2xl font-bold",children:"Set up your profile"}),(0,jsx_runtime.jsx)("p",{className:"text-muted-foreground",children:"Upload and customize your profile picture"})]}),(0,jsx_runtime.jsx)(avatar_editor_AvatarEditor,{...args}),(0,jsx_runtime.jsx)("div",{className:"text-center",children:(0,jsx_runtime.jsx)("p",{className:"text-sm text-muted-foreground",children:"You can drag to reposition, zoom, and rotate your image"})})]}),args:{currentAvatar:null,borderRadius:50,size:300,quality:.9,onSave:mockSave,onDiscard:mockDiscard},parameters:{docs:{description:{story:"An avatar editor integrated into a profile setup flow, demonstrating how to use the component in a complete user onboarding experience."}}}},ComparisonSizes={args:{onDiscard:mockDiscard},render:()=>(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-2 gap-8 max-w-4xl mx-auto",children:[(0,jsx_runtime.jsxs)("div",{className:"text-center space-y-4",children:[(0,jsx_runtime.jsx)("h3",{className:"text-lg font-semibold",children:"Small (200px)"}),(0,jsx_runtime.jsx)(avatar_editor_AvatarEditor,{currentAvatar:"https://github.com/shadcn.png",borderRadius:50,size:200,quality:.9,onSave:mockSave,onDiscard:mockDiscard})]}),(0,jsx_runtime.jsxs)("div",{className:"text-center space-y-4",children:[(0,jsx_runtime.jsx)("h3",{className:"text-lg font-semibold",children:"Medium (300px)"}),(0,jsx_runtime.jsx)(avatar_editor_AvatarEditor,{currentAvatar:"https://github.com/shadcn.png",borderRadius:50,size:300,quality:.9,onSave:mockSave,onDiscard:mockDiscard})]}),(0,jsx_runtime.jsxs)("div",{className:"text-center space-y-4",children:[(0,jsx_runtime.jsx)("h3",{className:"text-lg font-semibold",children:"Large (400px)"}),(0,jsx_runtime.jsx)(avatar_editor_AvatarEditor,{currentAvatar:"https://github.com/shadcn.png",borderRadius:50,size:400,quality:.9,onSave:mockSave,onDiscard:mockDiscard})]}),(0,jsx_runtime.jsxs)("div",{className:"text-center space-y-4",children:[(0,jsx_runtime.jsx)("h3",{className:"text-lg font-semibold",children:"Extra Large (500px)"}),(0,jsx_runtime.jsx)(avatar_editor_AvatarEditor,{currentAvatar:"https://github.com/shadcn.png",borderRadius:50,size:500,quality:.9,onSave:mockSave,onDiscard:mockDiscard})]})]}),parameters:{docs:{description:{story:"A comparison of avatar editors in different sizes (small, medium, large, extra large), demonstrating size variations side by side."}}}},ComparisonShapes={args:{onDiscard:mockDiscard},render:()=>(0,jsx_runtime.jsxs)("div",{className:"flex justify-center gap-12",children:[(0,jsx_runtime.jsxs)("div",{className:"text-center space-y-4",children:[(0,jsx_runtime.jsx)("h3",{className:"text-lg font-semibold",children:"Circle (borderRadius: 50)"}),(0,jsx_runtime.jsx)(avatar_editor_AvatarEditor,{currentAvatar:"https://github.com/shadcn.png",borderRadius:50,size:300,quality:.9,onSave:mockSave,onDiscard:mockDiscard})]}),(0,jsx_runtime.jsxs)("div",{className:"text-center space-y-4",children:[(0,jsx_runtime.jsx)("h3",{className:"text-lg font-semibold",children:"Rounded Square (borderRadius: 20)"}),(0,jsx_runtime.jsx)(avatar_editor_AvatarEditor,{currentAvatar:"https://github.com/shadcn.png",borderRadius:20,size:300,quality:.9,onSave:mockSave,onDiscard:mockDiscard})]}),(0,jsx_runtime.jsxs)("div",{className:"text-center space-y-4",children:[(0,jsx_runtime.jsx)("h3",{className:"text-lg font-semibold",children:"Square (borderRadius: 0)"}),(0,jsx_runtime.jsx)(avatar_editor_AvatarEditor,{currentAvatar:"https://github.com/shadcn.png",borderRadius:0,size:300,quality:.9,onSave:mockSave,onDiscard:mockDiscard})]})]}),parameters:{docs:{description:{story:"A comparison of avatar editors with different shapes (circle, rounded square, square), demonstrating border radius variations side by side."}}}},LivePreviewOnChange={name:"Live preview (onChange only)",render:args=>{const[preview,setPreview]=react.useState("https://github.com/shadcn.png");return(0,jsx_runtime.jsxs)("div",{className:"flex flex-col items-center gap-6",children:[(0,jsx_runtime.jsxs)("div",{className:"text-center",children:[(0,jsx_runtime.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Live preview"}),(0,jsx_runtime.jsx)("img",{src:preview??"",alt:"Preview",width:96,height:96,className:"rounded-full border"})]}),(0,jsx_runtime.jsx)(avatar_editor_AvatarEditor,{...args,currentAvatar:preview,onChange:dataUrl=>setPreview(dataUrl),onDiscard:()=>setPreview(null)})]})},args:{borderRadius:50,size:300,quality:.9,onDiscard:mockDiscard},parameters:{docs:{description:{story:"An avatar editor with live preview that updates on change, demonstrating real-time preview functionality without requiring a save action."}}}},__namedExportsOrder=["Default","Square","Large","Small","NoImage","LargeSquare","HighQuality","CustomLabels","ProfileSetup","ComparisonSizes","ComparisonShapes","LivePreviewOnChange"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: {\n    currentAvatar: 'https://github.com/shadcn.png',\n    borderRadius: 50,\n    size: 300,\n    quality: 0.9,\n    onSave: mockSave,\n    onDiscard: mockDiscard\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: 'A default avatar editor with a circular shape, allowing users to upload, crop, and adjust their avatar image.'\n      }\n    }\n  }\n}",...Default.parameters?.docs?.source}}},Square.parameters={...Square.parameters,docs:{...Square.parameters?.docs,source:{originalSource:"{\n  args: {\n    currentAvatar: 'https://github.com/shadcn.png',\n    borderRadius: 0,\n    size: 300,\n    quality: 0.9,\n    onSave: mockSave,\n    onDiscard: mockDiscard\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: 'A square avatar editor with no border radius, demonstrating how to create square avatars.'\n      }\n    }\n  }\n}",...Square.parameters?.docs?.source}}},Large.parameters={...Large.parameters,docs:{...Large.parameters?.docs,source:{originalSource:"{\n  args: {\n    currentAvatar: 'https://github.com/shadcn.png',\n    borderRadius: 50,\n    size: 400,\n    quality: 0.9,\n    onSave: mockSave,\n    onDiscard: mockDiscard\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: 'A large avatar editor with increased size, demonstrating how to create larger avatar images.'\n      }\n    }\n  }\n}",...Large.parameters?.docs?.source}}},Small.parameters={...Small.parameters,docs:{...Small.parameters?.docs,source:{originalSource:"{\n  args: {\n    currentAvatar: 'https://github.com/shadcn.png',\n    borderRadius: 50,\n    size: 200,\n    quality: 0.9,\n    onSave: mockSave,\n    onDiscard: mockDiscard\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: 'A small avatar editor with reduced size, demonstrating how to create compact avatar images.'\n      }\n    }\n  }\n}",...Small.parameters?.docs?.source}}},NoImage.parameters={...NoImage.parameters,docs:{...NoImage.parameters?.docs,source:{originalSource:"{\n  args: {\n    currentAvatar: null,\n    borderRadius: 50,\n    size: 300,\n    quality: 0.9,\n    onSave: mockSave,\n    onDiscard: mockDiscard\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: 'An avatar editor with no initial image, demonstrating how the component handles empty states and new avatar uploads.'\n      }\n    }\n  }\n}",...NoImage.parameters?.docs?.source}}},LargeSquare.parameters={...LargeSquare.parameters,docs:{...LargeSquare.parameters?.docs,source:{originalSource:"{\n  args: {\n    currentAvatar: 'https://github.com/shadcn.png',\n    borderRadius: 10,\n    size: 400,\n    quality: 0.9,\n    onSave: mockSave,\n    onDiscard: mockDiscard\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: 'A large square avatar editor combining large size with square shape, demonstrating size and shape combinations.'\n      }\n    }\n  }\n}",...LargeSquare.parameters?.docs?.source}}},HighQuality.parameters={...HighQuality.parameters,docs:{...HighQuality.parameters?.docs,source:{originalSource:"{\n  args: {\n    currentAvatar: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400&h=400&fit=crop&crop=face',\n    borderRadius: 50,\n    size: 300,\n    quality: 1.0,\n    onSave: mockSave,\n    onDiscard: mockDiscard\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: 'An avatar editor with maximum quality settings (quality: 1.0), demonstrating how to configure high-quality image output.'\n      }\n    }\n  }\n}",...HighQuality.parameters?.docs?.source}}},CustomLabels.parameters={...CustomLabels.parameters,docs:{...CustomLabels.parameters?.docs,source:{originalSource:"{\n  args: {\n    currentAvatar: null,\n    borderRadius: 50,\n    size: 300,\n    quality: 0.9,\n    onSave: mockSave,\n    onDiscard: mockDiscard,\n    labels: {\n      uploadPrompt: 'Click to upload your photo',\n      controlsPlaceholder: 'Add an image to start editing',\n      allowedTypesLabel: 'Supported formats',\n      save: 'Save Avatar',\n      discard: 'Remove',\n      zoomIn: 'Zoom In',\n      zoomOut: 'Zoom Out',\n      rotateClockwise: 'Rotate Right',\n      rotateCounterClockwise: 'Rotate Left'\n    }\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: 'An avatar editor with custom labels for all UI text, demonstrating how to customize button labels and messages.'\n      }\n    }\n  }\n}",...CustomLabels.parameters?.docs?.source}}},ProfileSetup.parameters={...ProfileSetup.parameters,docs:{...ProfileSetup.parameters?.docs,source:{originalSource:'{\n  render: args => <div className="space-y-6 max-w-md mx-auto">\n      <div className="text-center space-y-2">\n        <h2 className="text-2xl font-bold">Set up your profile</h2>\n        <p className="text-muted-foreground">Upload and customize your profile picture</p>\n      </div>\n      <AvatarEditor {...args} />\n      <div className="text-center">\n        <p className="text-sm text-muted-foreground">\n          You can drag to reposition, zoom, and rotate your image\n        </p>\n      </div>\n    </div>,\n  args: {\n    currentAvatar: null,\n    borderRadius: 50,\n    size: 300,\n    quality: 0.9,\n    onSave: mockSave,\n    onDiscard: mockDiscard\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: \'An avatar editor integrated into a profile setup flow, demonstrating how to use the component in a complete user onboarding experience.\'\n      }\n    }\n  }\n}',...ProfileSetup.parameters?.docs?.source}}},ComparisonSizes.parameters={...ComparisonSizes.parameters,docs:{...ComparisonSizes.parameters?.docs,source:{originalSource:'{\n  args: {\n    onDiscard: mockDiscard\n  },\n  render: () => <div className="grid grid-cols-2 gap-8 max-w-4xl mx-auto">\n      <div className="text-center space-y-4">\n        <h3 className="text-lg font-semibold">Small (200px)</h3>\n        <AvatarEditor currentAvatar="https://github.com/shadcn.png" borderRadius={50} size={200} quality={0.9} onSave={mockSave} onDiscard={mockDiscard} />\n      </div>\n      <div className="text-center space-y-4">\n        <h3 className="text-lg font-semibold">Medium (300px)</h3>\n        <AvatarEditor currentAvatar="https://github.com/shadcn.png" borderRadius={50} size={300} quality={0.9} onSave={mockSave} onDiscard={mockDiscard} />\n      </div>\n      <div className="text-center space-y-4">\n        <h3 className="text-lg font-semibold">Large (400px)</h3>\n        <AvatarEditor currentAvatar="https://github.com/shadcn.png" borderRadius={50} size={400} quality={0.9} onSave={mockSave} onDiscard={mockDiscard} />\n      </div>\n      <div className="text-center space-y-4">\n        <h3 className="text-lg font-semibold">Extra Large (500px)</h3>\n        <AvatarEditor currentAvatar="https://github.com/shadcn.png" borderRadius={50} size={500} quality={0.9} onSave={mockSave} onDiscard={mockDiscard} />\n      </div>\n    </div>,\n  parameters: {\n    docs: {\n      description: {\n        story: \'A comparison of avatar editors in different sizes (small, medium, large, extra large), demonstrating size variations side by side.\'\n      }\n    }\n  }\n}',...ComparisonSizes.parameters?.docs?.source}}},ComparisonShapes.parameters={...ComparisonShapes.parameters,docs:{...ComparisonShapes.parameters?.docs,source:{originalSource:'{\n  args: {\n    onDiscard: mockDiscard\n  },\n  render: () => <div className="flex justify-center gap-12">\n      <div className="text-center space-y-4">\n        <h3 className="text-lg font-semibold">Circle (borderRadius: 50)</h3>\n        <AvatarEditor currentAvatar="https://github.com/shadcn.png" borderRadius={50} size={300} quality={0.9} onSave={mockSave} onDiscard={mockDiscard} />\n      </div>\n      <div className="text-center space-y-4">\n        <h3 className="text-lg font-semibold">Rounded Square (borderRadius: 20)</h3>\n        <AvatarEditor currentAvatar="https://github.com/shadcn.png" borderRadius={20} size={300} quality={0.9} onSave={mockSave} onDiscard={mockDiscard} />\n      </div>\n      <div className="text-center space-y-4">\n        <h3 className="text-lg font-semibold">Square (borderRadius: 0)</h3>\n        <AvatarEditor currentAvatar="https://github.com/shadcn.png" borderRadius={0} size={300} quality={0.9} onSave={mockSave} onDiscard={mockDiscard} />\n      </div>\n    </div>,\n  parameters: {\n    docs: {\n      description: {\n        story: \'A comparison of avatar editors with different shapes (circle, rounded square, square), demonstrating border radius variations side by side.\'\n      }\n    }\n  }\n}',...ComparisonShapes.parameters?.docs?.source}}},LivePreviewOnChange.parameters={...LivePreviewOnChange.parameters,docs:{...LivePreviewOnChange.parameters?.docs,source:{originalSource:'{\n  name: \'Live preview (onChange only)\',\n  render: args => {\n    const [preview, setPreview] = React.useState<string | null>(\'https://github.com/shadcn.png\');\n    return <div className="flex flex-col items-center gap-6">\n        <div className="text-center">\n          <p className="text-sm text-muted-foreground mb-2">Live preview</p>\n          {/* eslint-disable-next-line @next/next/no-img-element */}\n          <img src={preview ?? \'\'} alt="Preview" width={96} height={96} className="rounded-full border" />\n        </div>\n        <AvatarEditor {...args} currentAvatar={preview} onChange={dataUrl => setPreview(dataUrl)}\n      // Intentionally omit onSave to hide the save button\n      onDiscard={() => setPreview(null)} />\n      </div>;\n  },\n  args: {\n    borderRadius: 50,\n    size: 300,\n    quality: 0.9,\n    onDiscard: mockDiscard\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: \'An avatar editor with live preview that updates on change, demonstrating real-time preview functionality without requiring a save action.\'\n      }\n    }\n  }\n}',...LivePreviewOnChange.parameters?.docs?.source}}};try{AvatarEditor.displayName="AvatarEditor",AvatarEditor.__docgenInfo={description:"",displayName:"AvatarEditor",props:{currentAvatar:{defaultValue:null,description:"Current avatar URL or null",name:"currentAvatar",required:!1,type:{name:"string | null | undefined"}},onSave:{defaultValue:null,description:"Async function to save the avatar - receives base64 data URL",name:"onSave",required:!1,type:{name:"((avatarDataUrl: string) => Promise<void>) | undefined"}},onDiscard:{defaultValue:null,description:"Function called when avatar is discarded",name:"onDiscard",required:!0,type:{name:"() => void"}},onChange:{defaultValue:null,description:"Function called when avatar is changed",name:"onChange",required:!1,type:{name:"((avatarDataUrl: string) => void) | undefined"}},borderRadius:{defaultValue:{value:"50"},description:"Border radius for the avatar preview (0 = square, 50 = circle)",name:"borderRadius",required:!1,type:{name:"number | undefined"}},size:{defaultValue:{value:"300"},description:"Size of the editor canvas",name:"size",required:!1,type:{name:"number | undefined"}},quality:{defaultValue:{value:"0.9"},description:"Quality of the output image (0-1)",name:"quality",required:!1,type:{name:"number | undefined"}},className:{defaultValue:null,description:"CSS class name for the container",name:"className",required:!1,type:{name:"string | undefined"}},allowedTypes:{defaultValue:{value:"['image/jpeg', 'image/png', 'image/webp']"},description:"Allowed image types",name:"allowedTypes",required:!1,type:{name:"string[] | undefined"}},labels:{defaultValue:{value:"{\n    uploadPrompt: 'Haz clic para subir imagen',\n    controlsPlaceholder: 'Agrega una imagen para poder editarla',\n    allowedTypesLabel: 'Tipos permitidos',\n    save: 'Guardar',\n    discard: 'Eliminar',\n    zoomIn: 'Acercar',\n    zoomOut: 'Alejar',\n    rotateClockwise: 'Rotar a la derecha',\n    rotateCounterClockwise: 'Rotar a la izquierda',\n  }"},description:"Labels for the component",name:"labels",required:!1,type:{name:"{ uploadPrompt?: string | undefined; controlsPlaceholder?: string | undefined; allowedTypesLabel?: string | undefined; save?: string | undefined; discard?: string | undefined; zoomIn?: string | undefined; zoomOut?: string | undefined; rotateClockwise?: string | undefined; rotateCounterClockwise?: string | undefined;..."}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/AvatarEditor.stories.tsx#AvatarEditor"]={docgenInfo:AvatarEditor.__docgenInfo,name:"AvatarEditor",path:"src/stories/AvatarEditor.stories.tsx#AvatarEditor"})}catch(__react_docgen_typescript_loader_error){}}}]);