/*! For license information please see stories-UseEventCallback-stories.87cd475d.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_algtools_ui=self.webpackChunk_algtools_ui||[]).push([[3209],{"./node_modules/.pnpm/lucide-react@0.539.0_react@19.2.3/node_modules/lucide-react/dist/esm/icons/circle-check.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>CircleCheck});const CircleCheck=(0,__webpack_require__("./node_modules/.pnpm/lucide-react@0.539.0_react@19.2.3/node_modules/lucide-react/dist/esm/createLucideIcon.js").A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},"./node_modules/.pnpm/lucide-react@0.539.0_react@19.2.3/node_modules/lucide-react/dist/esm/icons/refresh-cw.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>RefreshCw});const RefreshCw=(0,__webpack_require__("./node_modules/.pnpm/lucide-react@0.539.0_react@19.2.3/node_modules/lucide-react/dist/esm/createLucideIcon.js").A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},"./node_modules/.pnpm/lucide-react@0.539.0_react@19.2.3/node_modules/lucide-react/dist/esm/icons/save.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>Save});const Save=(0,__webpack_require__("./node_modules/.pnpm/lucide-react@0.539.0_react@19.2.3/node_modules/lucide-react/dist/esm/createLucideIcon.js").A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},"./node_modules/.pnpm/lucide-react@0.539.0_react@19.2.3/node_modules/lucide-react/dist/esm/icons/send.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>Send});const Send=(0,__webpack_require__("./node_modules/.pnpm/lucide-react@0.539.0_react@19.2.3/node_modules/lucide-react/dist/esm/createLucideIcon.js").A)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},"./src/components/ui/input.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{p:()=>Input});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/react@19.2.3/node_modules/react/jsx-runtime.js"),_lib_utils__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/.pnpm/react@19.2.3/node_modules/react/index.js"),__webpack_require__("./src/lib/utils.ts"));function Input({className,type,...props}){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{type,"data-slot":"input",className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",className),...props})}try{Input.displayName="Input",Input.__docgenInfo={description:"",displayName:"Input",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ui/input.tsx#Input"]={docgenInfo:Input.__docgenInfo,name:"Input",path:"src/components/ui/input.tsx#Input"})}catch(__react_docgen_typescript_loader_error){}},"./src/stories/UseEventCallback.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AllFeatures:()=>AllFeatures,Comparison:()=>Comparison,DynamicDependencies:()=>DynamicDependencies,EventHandlerOptimization:()=>EventHandlerOptimization,FormSubmission:()=>FormSubmission,LatestClosure:()=>LatestClosure,StableReference:()=>StableReference,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/react@19.2.3/node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/react@19.2.3/node_modules/react/index.js"),lucide_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/lucide-react@0.539.0_react@19.2.3/node_modules/lucide-react/dist/esm/icons/circle-check.js"),lucide_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/lucide-react@0.539.0_react@19.2.3/node_modules/lucide-react/dist/esm/icons/refresh-cw.js"),lucide_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/lucide-react@0.539.0_react@19.2.3/node_modules/lucide-react/dist/esm/icons/save.js"),lucide_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/lucide-react@0.539.0_react@19.2.3/node_modules/lucide-react/dist/esm/icons/send.js"),_hooks_use_event_callback__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/hooks/use-event-callback.ts"),_components_ui_button__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/ui/button.tsx"),_components_ui_card__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/components/ui/card.tsx"),_components_ui_badge__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/components/ui/badge.tsx"),_components_ui_input__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/components/ui/input.tsx");function StableReferenceDemo(){const[count,setCount]=react__WEBPACK_IMPORTED_MODULE_1__.useState(0),[renderCount,setRenderCount]=react__WEBPACK_IMPORTED_MODULE_1__.useState(0),childRenderCount=react__WEBPACK_IMPORTED_MODULE_1__.useRef(0),handleClick=(0,_hooks_use_event_callback__WEBPACK_IMPORTED_MODULE_6__.D)(()=>{setCount(c=>c+1)});react__WEBPACK_IMPORTED_MODULE_1__.useEffect(()=>{setRenderCount(r=>r+1)},[count]);const ChildComponent=react__WEBPACK_IMPORTED_MODULE_1__.memo(({onClick})=>(childRenderCount.current++,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"rounded-lg border p-4 bg-muted",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-sm font-medium mb-2",children:"Child Component"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p",{className:"text-xs text-muted-foreground mb-3",children:["Renders: ",childRenderCount.current]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_button__WEBPACK_IMPORTED_MODULE_7__.$,{onClick,size:"sm",className:"w-full",children:"Increment from Child"})]})));return ChildComponent.displayName="ChildComponent",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_card__WEBPACK_IMPORTED_MODULE_8__.Zp,{className:"p-6 w-96",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center justify-between",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{className:"text-lg font-semibold",children:"Stable Reference"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_9__.E,{variant:"outline",children:["Count: ",count]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-3",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"rounded-lg border p-3",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-sm font-medium mb-1",children:"Parent Component"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Renders: ",renderCount]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ChildComponent,{onClick:handleClick}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_button__WEBPACK_IMPORTED_MODULE_7__.$,{onClick:()=>setCount(c=>c+1),variant:"outline",className:"w-full",children:"Increment (Causes Re-render)"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:"The child component only renders once despite parent re-renders"})]})})}function LatestClosureDemo(){const[name,setName]=react__WEBPACK_IMPORTED_MODULE_1__.useState(""),[messages,setMessages]=react__WEBPACK_IMPORTED_MODULE_1__.useState([]),handleSend=(0,_hooks_use_event_callback__WEBPACK_IMPORTED_MODULE_6__.D)(()=>{if(name.trim()){const message=`Hello, ${name}!`;setMessages(prev=>[...prev.slice(-2),message])}});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_card__WEBPACK_IMPORTED_MODULE_8__.Zp,{className:"p-6 w-96",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__.A,{className:"h-5 w-5 text-primary"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{className:"text-lg font-semibold",children:"Latest Closure Values"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-3",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_input__WEBPACK_IMPORTED_MODULE_10__.p,{placeholder:"Enter your name",value:name,onChange:e=>setName(e.target.value)}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_button__WEBPACK_IMPORTED_MODULE_7__.$,{onClick:handleSend,className:"w-full",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__.A,{className:"mr-2 h-4 w-4"}),"Send Greeting"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"rounded-lg border p-3 min-h-[100px]",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-sm font-medium mb-2",children:"Messages:"}),0===messages.length?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-xs text-muted-foreground italic",children:"No messages yet"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"space-y-1",children:messages.map((msg,idx)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-xs bg-primary/10 p-2 rounded",children:msg},idx))})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:"The callback always uses the current name value"})]})})}function FormSubmissionDemo(){const[formData,setFormData]=react__WEBPACK_IMPORTED_MODULE_1__.useState({email:"",message:""}),[submissions,setSubmissions]=react__WEBPACK_IMPORTED_MODULE_1__.useState([]),[isSubmitting,setIsSubmitting]=react__WEBPACK_IMPORTED_MODULE_1__.useState(!1),handleSubmit=(0,_hooks_use_event_callback__WEBPACK_IMPORTED_MODULE_6__.D)(e=>{e.preventDefault(),setIsSubmitting(!0),setTimeout(()=>{setSubmissions(prev=>[...prev,formData]),setFormData({email:"",message:""}),setIsSubmitting(!1)},1e3)});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_card__WEBPACK_IMPORTED_MODULE_8__.Zp,{className:"p-6 w-96",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__.A,{className:"h-5 w-5 text-primary"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{className:"text-lg font-semibold",children:"Form Submission"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-3",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_input__WEBPACK_IMPORTED_MODULE_10__.p,{type:"email",placeholder:"Email",value:formData.email,onChange:e=>setFormData({...formData,email:e.target.value}),required:!0}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_input__WEBPACK_IMPORTED_MODULE_10__.p,{placeholder:"Message",value:formData.message,onChange:e=>setFormData({...formData,message:e.target.value}),required:!0}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_button__WEBPACK_IMPORTED_MODULE_7__.$,{type:"submit",disabled:isSubmitting,className:"w-full",children:isSubmitting?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__.A,{className:"mr-2 h-4 w-4"}),"Submit"]})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"rounded-lg border p-3",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p",{className:"text-sm font-medium mb-2",children:["Submissions: ",submissions.length]}),submissions.slice(-2).map((sub,idx)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"text-xs bg-muted p-2 rounded mb-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"font-medium",children:sub.email}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-muted-foreground",children:sub.message})]},idx))]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:"Stable form handler with latest values"})]})})}function EventHandlerOptimizationDemo(){const[clicks,setClicks]=react__WEBPACK_IMPORTED_MODULE_1__.useState(0),[position,setPosition]=react__WEBPACK_IMPORTED_MODULE_1__.useState({x:0,y:0}),[isTracking,setIsTracking]=react__WEBPACK_IMPORTED_MODULE_1__.useState(!1),handleClick=(0,_hooks_use_event_callback__WEBPACK_IMPORTED_MODULE_6__.D)(()=>{setClicks(c=>c+1)}),handleMouseMove=(0,_hooks_use_event_callback__WEBPACK_IMPORTED_MODULE_6__.D)(e=>{isTracking&&setPosition({x:e.clientX,y:e.clientY})});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_card__WEBPACK_IMPORTED_MODULE_8__.Zp,{className:"p-6 w-96",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center justify-between",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{className:"text-lg font-semibold",children:"Event Handler Optimization"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_9__.E,{children:[clicks," clicks"]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"rounded-lg border p-8 cursor-pointer hover:bg-muted/50 transition-colors",onClick:handleClick,onMouseMove:handleMouseMove,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"text-center space-y-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-sm font-medium",children:"Click or Move Mouse Here"}),isTracking&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Position: (",position.x,", ",position.y,")"]})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_button__WEBPACK_IMPORTED_MODULE_7__.$,{onClick:()=>setIsTracking(!isTracking),variant:"outline",className:"w-full",children:[isTracking?"Stop":"Start"," Tracking"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:"Handlers never change, preventing re-renders"})]})})}function CallbackWithDependenciesDemo(){const[multiplier,setMultiplier]=react__WEBPACK_IMPORTED_MODULE_1__.useState(1),[value,setValue]=react__WEBPACK_IMPORTED_MODULE_1__.useState(0),[results,setResults]=react__WEBPACK_IMPORTED_MODULE_1__.useState([]),calculate=(0,_hooks_use_event_callback__WEBPACK_IMPORTED_MODULE_6__.D)(()=>{const result=value*multiplier;setResults(prev=>[...prev.slice(-3),result])});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_card__WEBPACK_IMPORTED_MODULE_8__.Zp,{className:"p-6 w-96",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_2__.A,{className:"h-5 w-5 text-primary"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{className:"text-lg font-semibold",children:"Dynamic Dependencies"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-3",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Multiplier"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex gap-2",children:[1,2,5,10].map(m=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_button__WEBPACK_IMPORTED_MODULE_7__.$,{size:"sm",variant:multiplier===m?"default":"outline",onClick:()=>setMultiplier(m),children:["×",m]},m))})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Value"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_input__WEBPACK_IMPORTED_MODULE_10__.p,{type:"number",value,onChange:e=>setValue(Number(e.target.value))})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_button__WEBPACK_IMPORTED_MODULE_7__.$,{onClick:calculate,className:"w-full",children:["Calculate (",value," × ",multiplier,")"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"rounded-lg border p-3",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-sm font-medium mb-2",children:"Results:"}),0===results.length?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-xs text-muted-foreground italic",children:"No calculations yet"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex flex-wrap gap-2",children:results.map((r,idx)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_9__.E,{variant:"secondary",children:r},idx))})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:"No dependency array needed—always gets latest values"})]})})}function ComparisonDemo(){const[count,setCount]=react__WEBPACK_IMPORTED_MODULE_1__.useState(0),[callbackRerenders,setCallbackRerenders]=react__WEBPACK_IMPORTED_MODULE_1__.useState(0),[eventCallbackRerenders,setEventCallbackRerenders]=react__WEBPACK_IMPORTED_MODULE_1__.useState(0),regularCallback=react__WEBPACK_IMPORTED_MODULE_1__.useCallback(()=>{console.log("Regular callback, count:",count)},[count]),stableCallback=(0,_hooks_use_event_callback__WEBPACK_IMPORTED_MODULE_6__.D)(()=>{console.log("Event callback, count:",count)});return react__WEBPACK_IMPORTED_MODULE_1__.useEffect(()=>{setCallbackRerenders(r=>r+1)},[regularCallback]),react__WEBPACK_IMPORTED_MODULE_1__.useEffect(()=>{setEventCallbackRerenders(r=>r+1)},[stableCallback]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_card__WEBPACK_IMPORTED_MODULE_8__.Zp,{className:"p-6 w-96",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center justify-between",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{className:"text-lg font-semibold",children:"Comparison"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_9__.E,{variant:"outline",children:["Count: ",count]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-3",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"rounded-lg border p-3 bg-orange-50 dark:bg-orange-950/20",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-xs font-medium mb-1",children:"useCallback"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-lg font-bold",children:callbackRerenders-1}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-xs text-muted-foreground",children:"changes"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"rounded-lg border p-3 bg-green-50 dark:bg-green-950/20",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-xs font-medium mb-1",children:"useEventCallback"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-lg font-bold",children:eventCallbackRerenders-1}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-xs text-muted-foreground",children:"changes"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_button__WEBPACK_IMPORTED_MODULE_7__.$,{onClick:()=>setCount(c=>c+1),className:"w-full",children:"Increment Count"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_button__WEBPACK_IMPORTED_MODULE_7__.$,{onClick:()=>{setCount(0),setCallbackRerenders(0),setEventCallbackRerenders(0)},variant:"outline",className:"w-full",children:"Reset"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"text-xs text-muted-foreground space-y-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{children:"• useCallback changes when dependencies change"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{children:"• useEventCallback never changes"})]})]})})}const __WEBPACK_DEFAULT_EXPORT__={title:"Hooks/useEventCallback",component:StableReferenceDemo,parameters:{layout:"centered",docs:{description:{component:"A hook that provides a stable callback reference that always calls the latest version of the callback. Unlike `useCallback`, it never changes its reference, preventing unnecessary re-renders while still capturing the latest closure values. Perfect for optimizing performance and simplifying event handlers."}}},tags:["autodocs"]},StableReference={render:()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StableReferenceDemo,{}),parameters:{docs:{description:{story:"Demonstrates how useEventCallback maintains a stable reference across re-renders, preventing child components from re-rendering unnecessarily. The child component (wrapped in React.memo) only renders once despite parent re-renders."},source:{code:"import { useEventCallback } from '@algtools/ui';\nimport { useState, memo } from 'react';\nimport { Button } from '@algtools/ui';\n\nfunction MyComponent() {\n  const [count, setCount] = useState(0);\n\n  // This callback reference never changes\n  const handleClick = useEventCallback(() => {\n    setCount((c) => c + 1);\n  });\n\n  const ChildComponent = memo(({ onClick }: { onClick: () => void }) => {\n    return <Button onClick={onClick}>Increment</Button>;\n  });\n\n  return (\n    <>\n      <p>Count: {count}</p>\n      <ChildComponent onClick={handleClick} />\n    </>\n  );\n}",language:"tsx"}}}},LatestClosure={render:()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(LatestClosureDemo,{}),parameters:{docs:{description:{story:"Shows how useEventCallback always captures the latest closure values without needing to update the callback reference. The callback can access the current state value even though the callback reference never changes."},source:{code:"import { useEventCallback } from '@algtools/ui';\nimport { useState } from 'react';\nimport { Input, Button } from '@algtools/ui';\n\nfunction MyComponent() {\n  const [name, setName] = useState('');\n  const [messages, setMessages] = useState<string[]>([]);\n\n  // Always uses the latest name value, even though reference never changes\n  const handleSubmit = useEventCallback(() => {\n    setMessages((prev) => [...prev, `Hello, ${name}!`]);\n  });\n\n  return (\n    <>\n      <Input value={name} onChange={(e) => setName(e.target.value)} />\n      <Button onClick={handleSubmit}>Submit</Button>\n      {messages.map((msg, i) => (\n        <p key={i}>{msg}</p>\n      ))}\n    </>\n  );\n}",language:"tsx"}}}},FormSubmission={render:()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FormSubmissionDemo,{}),parameters:{docs:{description:{story:"Real-world example of using useEventCallback for form submission. The submit handler has a stable reference but always accesses the latest form data, simplifying the code and preventing unnecessary re-renders."},source:{code:"import { useEventCallback } from '@algtools/ui';\nimport { useState } from 'react';\nimport { Input, Button } from '@algtools/ui';\n\nfunction MyComponent() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  // Stable reference, always accesses latest form values\n  const handleSubmit = useEventCallback((e: React.FormEvent) => {\n    e.preventDefault();\n    console.log('Submitting:', { email, password });\n    // Submit form...\n  });\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <Input\n        type=\"email\"\n        value={email}\n        onChange={(e) => setEmail(e.target.value)}\n      />\n      <Input\n        type=\"password\"\n        value={password}\n        onChange={(e) => setPassword(e.target.value)}\n      />\n      <Button type=\"submit\">Submit</Button>\n    </form>\n  );\n}",language:"tsx"}}}},EventHandlerOptimization={render:()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EventHandlerOptimizationDemo,{}),parameters:{docs:{description:{story:"Demonstrates how useEventCallback optimizes event handlers like onClick and onMouseMove. The handlers maintain stable references while always accessing the latest state, providing optimal performance."},source:{code:"import { useEventCallback } from '@algtools/ui';\nimport { useState } from 'react';\nimport { Button } from '@algtools/ui';\n\nfunction MyComponent() {\n  const [count, setCount] = useState(0);\n  const [position, setPosition] = useState({ x: 0, y: 0 });\n\n  // Stable onClick handler\n  const handleClick = useEventCallback(() => {\n    setCount((c) => c + 1);\n  });\n\n  // Stable onMouseMove handler\n  const handleMouseMove = useEventCallback((e: React.MouseEvent) => {\n    setPosition({ x: e.clientX, y: e.clientY });\n  });\n\n  return (\n    <>\n      <Button onClick={handleClick}>Count: {count}</Button>\n      <div onMouseMove={handleMouseMove}>\n        Position: ({position.x}, {position.y})\n      </div>\n    </>\n  );\n}",language:"tsx"}}}},DynamicDependencies={render:()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(CallbackWithDependenciesDemo,{}),parameters:{docs:{description:{story:"Shows how useEventCallback eliminates the need for dependency arrays. The callback automatically has access to the latest values without needing to be recreated, simplifying the code significantly."},source:{code:"import { useEventCallback } from '@algtools/ui';\nimport { useState } from 'react';\nimport { Button } from '@algtools/ui';\n\nfunction MyComponent() {\n  const [userId, setUserId] = useState(1);\n  const [data, setData] = useState(null);\n\n  // No dependency array needed - always has latest userId\n  const fetchData = useEventCallback(async () => {\n    const response = await fetch(`/api/users/${userId}`);\n    const result = await response.json();\n    setData(result);\n  });\n\n  return (\n    <>\n      <Input\n        type=\"number\"\n        value={userId}\n        onChange={(e) => setUserId(Number(e.target.value))}\n      />\n      <Button onClick={fetchData}>Fetch User Data</Button>\n      {data && <div>{/* Render data */}</div>}\n    </>\n  );\n}",language:"tsx"}}}},Comparison={render:()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ComparisonDemo,{}),parameters:{docs:{description:{story:"Side-by-side comparison of useCallback vs useEventCallback. While useCallback changes when dependencies change (causing potential re-renders), useEventCallback never changes its reference, providing better optimization."},source:{code:"import { useEventCallback } from '@algtools/ui';\nimport { useCallback, useState } from 'react';\nimport { Button } from '@algtools/ui';\n\nfunction MyComponent() {\n  const [count, setCount] = useState(0);\n\n  // useCallback - reference changes when count changes\n  const handleClickCallback = useCallback(() => {\n    console.log('Count:', count);\n  }, [count]);\n\n  // useEventCallback - reference never changes, always has latest count\n  const handleClickEventCallback = useEventCallback(() => {\n    console.log('Count:', count);\n  });\n\n  return (\n    <>\n      <p>Count: {count}</p>\n      <Button onClick={() => setCount((c) => c + 1)}>Increment</Button>\n      <Button onClick={handleClickCallback}>useCallback</Button>\n      <Button onClick={handleClickEventCallback}>useEventCallback</Button>\n    </>\n  );\n}",language:"tsx"}}}},AllFeatures={render:()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StableReferenceDemo,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(LatestClosureDemo,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FormSubmissionDemo,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EventHandlerOptimizationDemo,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(CallbackWithDependenciesDemo,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ComparisonDemo,{})]}),parameters:{layout:"fullscreen",docs:{description:{story:"Comprehensive showcase of all useEventCallback features and use cases."}}}},__namedExportsOrder=["StableReference","LatestClosure","FormSubmission","EventHandlerOptimization","DynamicDependencies","Comparison","AllFeatures"];StableReference.parameters={...StableReference.parameters,docs:{...StableReference.parameters?.docs,source:{originalSource:"{\n  render: () => <StableReferenceDemo />,\n  parameters: {\n    docs: {\n      description: {\n        story: 'Demonstrates how useEventCallback maintains a stable reference across re-renders, preventing child components from re-rendering unnecessarily. The child component (wrapped in React.memo) only renders once despite parent re-renders.'\n      },\n      source: {\n        code: `import { useEventCallback } from '@algtools/ui';\nimport { useState, memo } from 'react';\nimport { Button } from '@algtools/ui';\n\nfunction MyComponent() {\n  const [count, setCount] = useState(0);\n\n  // This callback reference never changes\n  const handleClick = useEventCallback(() => {\n    setCount((c) => c + 1);\n  });\n\n  const ChildComponent = memo(({ onClick }: { onClick: () => void }) => {\n    return <Button onClick={onClick}>Increment</Button>;\n  });\n\n  return (\n    <>\n      <p>Count: {count}</p>\n      <ChildComponent onClick={handleClick} />\n    </>\n  );\n}`,\n        language: 'tsx'\n      }\n    }\n  }\n}",...StableReference.parameters?.docs?.source}}},LatestClosure.parameters={...LatestClosure.parameters,docs:{...LatestClosure.parameters?.docs,source:{originalSource:"{\n  render: () => <LatestClosureDemo />,\n  parameters: {\n    docs: {\n      description: {\n        story: 'Shows how useEventCallback always captures the latest closure values without needing to update the callback reference. The callback can access the current state value even though the callback reference never changes.'\n      },\n      source: {\n        code: `import { useEventCallback } from '@algtools/ui';\nimport { useState } from 'react';\nimport { Input, Button } from '@algtools/ui';\n\nfunction MyComponent() {\n  const [name, setName] = useState('');\n  const [messages, setMessages] = useState<string[]>([]);\n\n  // Always uses the latest name value, even though reference never changes\n  const handleSubmit = useEventCallback(() => {\n    setMessages((prev) => [...prev, \\`Hello, \\${name}!\\`]);\n  });\n\n  return (\n    <>\n      <Input value={name} onChange={(e) => setName(e.target.value)} />\n      <Button onClick={handleSubmit}>Submit</Button>\n      {messages.map((msg, i) => (\n        <p key={i}>{msg}</p>\n      ))}\n    </>\n  );\n}`,\n        language: 'tsx'\n      }\n    }\n  }\n}",...LatestClosure.parameters?.docs?.source}}},FormSubmission.parameters={...FormSubmission.parameters,docs:{...FormSubmission.parameters?.docs,source:{originalSource:"{\n  render: () => <FormSubmissionDemo />,\n  parameters: {\n    docs: {\n      description: {\n        story: 'Real-world example of using useEventCallback for form submission. The submit handler has a stable reference but always accesses the latest form data, simplifying the code and preventing unnecessary re-renders.'\n      },\n      source: {\n        code: `import { useEventCallback } from '@algtools/ui';\nimport { useState } from 'react';\nimport { Input, Button } from '@algtools/ui';\n\nfunction MyComponent() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  // Stable reference, always accesses latest form values\n  const handleSubmit = useEventCallback((e: React.FormEvent) => {\n    e.preventDefault();\n    console.log('Submitting:', { email, password });\n    // Submit form...\n  });\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <Input\n        type=\"email\"\n        value={email}\n        onChange={(e) => setEmail(e.target.value)}\n      />\n      <Input\n        type=\"password\"\n        value={password}\n        onChange={(e) => setPassword(e.target.value)}\n      />\n      <Button type=\"submit\">Submit</Button>\n    </form>\n  );\n}`,\n        language: 'tsx'\n      }\n    }\n  }\n}",...FormSubmission.parameters?.docs?.source}}},EventHandlerOptimization.parameters={...EventHandlerOptimization.parameters,docs:{...EventHandlerOptimization.parameters?.docs,source:{originalSource:"{\n  render: () => <EventHandlerOptimizationDemo />,\n  parameters: {\n    docs: {\n      description: {\n        story: 'Demonstrates how useEventCallback optimizes event handlers like onClick and onMouseMove. The handlers maintain stable references while always accessing the latest state, providing optimal performance.'\n      },\n      source: {\n        code: `import { useEventCallback } from '@algtools/ui';\nimport { useState } from 'react';\nimport { Button } from '@algtools/ui';\n\nfunction MyComponent() {\n  const [count, setCount] = useState(0);\n  const [position, setPosition] = useState({ x: 0, y: 0 });\n\n  // Stable onClick handler\n  const handleClick = useEventCallback(() => {\n    setCount((c) => c + 1);\n  });\n\n  // Stable onMouseMove handler\n  const handleMouseMove = useEventCallback((e: React.MouseEvent) => {\n    setPosition({ x: e.clientX, y: e.clientY });\n  });\n\n  return (\n    <>\n      <Button onClick={handleClick}>Count: {count}</Button>\n      <div onMouseMove={handleMouseMove}>\n        Position: ({position.x}, {position.y})\n      </div>\n    </>\n  );\n}`,\n        language: 'tsx'\n      }\n    }\n  }\n}",...EventHandlerOptimization.parameters?.docs?.source}}},DynamicDependencies.parameters={...DynamicDependencies.parameters,docs:{...DynamicDependencies.parameters?.docs,source:{originalSource:"{\n  render: () => <CallbackWithDependenciesDemo />,\n  parameters: {\n    docs: {\n      description: {\n        story: 'Shows how useEventCallback eliminates the need for dependency arrays. The callback automatically has access to the latest values without needing to be recreated, simplifying the code significantly.'\n      },\n      source: {\n        code: `import { useEventCallback } from '@algtools/ui';\nimport { useState } from 'react';\nimport { Button } from '@algtools/ui';\n\nfunction MyComponent() {\n  const [userId, setUserId] = useState(1);\n  const [data, setData] = useState(null);\n\n  // No dependency array needed - always has latest userId\n  const fetchData = useEventCallback(async () => {\n    const response = await fetch(\\`/api/users/\\${userId}\\`);\n    const result = await response.json();\n    setData(result);\n  });\n\n  return (\n    <>\n      <Input\n        type=\"number\"\n        value={userId}\n        onChange={(e) => setUserId(Number(e.target.value))}\n      />\n      <Button onClick={fetchData}>Fetch User Data</Button>\n      {data && <div>{/* Render data */}</div>}\n    </>\n  );\n}`,\n        language: 'tsx'\n      }\n    }\n  }\n}",...DynamicDependencies.parameters?.docs?.source}}},Comparison.parameters={...Comparison.parameters,docs:{...Comparison.parameters?.docs,source:{originalSource:"{\n  render: () => <ComparisonDemo />,\n  parameters: {\n    docs: {\n      description: {\n        story: 'Side-by-side comparison of useCallback vs useEventCallback. While useCallback changes when dependencies change (causing potential re-renders), useEventCallback never changes its reference, providing better optimization.'\n      },\n      source: {\n        code: `import { useEventCallback } from '@algtools/ui';\nimport { useCallback, useState } from 'react';\nimport { Button } from '@algtools/ui';\n\nfunction MyComponent() {\n  const [count, setCount] = useState(0);\n\n  // useCallback - reference changes when count changes\n  const handleClickCallback = useCallback(() => {\n    console.log('Count:', count);\n  }, [count]);\n\n  // useEventCallback - reference never changes, always has latest count\n  const handleClickEventCallback = useEventCallback(() => {\n    console.log('Count:', count);\n  });\n\n  return (\n    <>\n      <p>Count: {count}</p>\n      <Button onClick={() => setCount((c) => c + 1)}>Increment</Button>\n      <Button onClick={handleClickCallback}>useCallback</Button>\n      <Button onClick={handleClickEventCallback}>useEventCallback</Button>\n    </>\n  );\n}`,\n        language: 'tsx'\n      }\n    }\n  }\n}",...Comparison.parameters?.docs?.source}}},AllFeatures.parameters={...AllFeatures.parameters,docs:{...AllFeatures.parameters?.docs,source:{originalSource:"{\n  render: () => <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 p-4\">\n      <StableReferenceDemo />\n      <LatestClosureDemo />\n      <FormSubmissionDemo />\n      <EventHandlerOptimizationDemo />\n      <CallbackWithDependenciesDemo />\n      <ComparisonDemo />\n    </div>,\n  parameters: {\n    layout: 'fullscreen',\n    docs: {\n      description: {\n        story: 'Comprehensive showcase of all useEventCallback features and use cases.'\n      }\n    }\n  }\n}",...AllFeatures.parameters?.docs?.source}}}}}]);